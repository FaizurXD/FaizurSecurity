{
  "version": 3,
  "sources": ["../../events/antilinks.ts"],
  "sourcesContent": ["import type { TextChannel, Message } from \"discord.js\"\nimport { Events } from \"discord.js\";\nimport { logBuilder } from \"../utils.js\";\nimport prisma from \"../database.js\";\n\nexport default class AntiLinks {\n\tname = Events.MessageCreate\n\n\tasync run(message: Message) {\n\t\tif (!message.inGuild()) return;\n\t\tconst guild = await prisma.guild.findUnique({\n\t\t\twhere: { guild: message.guildId! },\n\t\t\tselect: { logs: true, antiLinks: true }\n\t\t})\n\t\tif (!guild?.antiLinks) return;\n\t\tif (message.content.includes('discord.gg/') ||\n        message.content.includes('dsc.gg/') ||\n        message.content.includes('.gg/') ||\n        message.content.includes('gg/') ||\n        message.content.includes('discord.com/invite/')) {\n\t\t\tawait message.delete()\n\t\t\tconst logs = message.guild?.channels.cache.get(guild?.logs!) as TextChannel\n\t\t\tawait logs?.send(logBuilder({\n\t\t\t\tmember: message.member!,\n\t\t\t\tcontent: `${message.author} has tried to self promote a server!`,\n\t\t\t\treason: `Self promote is not allowed in this server!`,\n\t\t\t}))\n\t\t}\n\t}\n}"],
  "mappings": "AACA,SAAS,cAAc;AACvB,SAAS,kBAAkB;AAC3B,OAAO,YAAY;AAEnB,qBAAqB,UAAU;AAAA,EAA/B;AACC,gBAAO,OAAO;AAAA;AAAA,EAEd,MAAM,IAAI,SAAkB;AAR7B;AASE,QAAI,CAAC,QAAQ,QAAQ;AAAG;AACxB,UAAM,QAAQ,MAAM,OAAO,MAAM,WAAW;AAAA,MAC3C,OAAO,EAAE,OAAO,QAAQ,QAAS;AAAA,MACjC,QAAQ,EAAE,MAAM,MAAM,WAAW,KAAK;AAAA,IACvC,CAAC;AACD,QAAI,EAAC,+BAAO;AAAW;AACvB,QAAI,QAAQ,QAAQ,SAAS,aAAa,KACpC,QAAQ,QAAQ,SAAS,SAAS,KAClC,QAAQ,QAAQ,SAAS,MAAM,KAC/B,QAAQ,QAAQ,SAAS,KAAK,KAC9B,QAAQ,QAAQ,SAAS,qBAAqB,GAAG;AACtD,YAAM,QAAQ,OAAO;AACrB,YAAM,QAAO,aAAQ,UAAR,mBAAe,SAAS,MAAM,IAAI,+BAAO;AACtD,aAAM,6BAAM,KAAK,WAAW;AAAA,QAC3B,QAAQ,QAAQ;AAAA,QAChB,SAAS,GAAG,QAAQ;AAAA,QACpB,QAAQ;AAAA,MACT,CAAC;AAAA,IACF;AAAA,EACD;AACD;",
  "names": []
}
