{
  "version": 3,
  "sources": ["../index.ts"],
  "sourcesContent": ["import { SlashCommandBuilder, ChatInputCommandInteraction, TextChannel, VoiceChannel } from 'discord.js';\nimport { Client, GatewayIntentBits, REST, Collection, Routes, EmbedBuilder, Colors, PermissionFlagsBits } from 'discord.js';\nimport { loxt } from 'loxt';\nimport { setActivity, analyzeText, dir, buttons, successEmbedBuilder, defaultError } from './utils.js';\nimport { readdir } from 'node:fs/promises';\nimport { join } from 'node:path';\nimport prisma from './database.js';\nimport Fastify from 'fastify';\n\nconst TOKEN = process.env.TOKEN;\n\ninterface ICommand {\n\tdata: SlashCommandBuilder;\n\trun(interaction: ChatInputCommandInteraction): Promise<void>;\n}\n\ninterface IEvent {\n\tname: string;\n\trun(x: unknown): Promise<void>;\n}\n\nconst rest = new REST().setToken(TOKEN!);\nconst commands = new Collection<string, ICommand>();\nconst usersCollection = new Collection<string, number>();\n\nconst client = new Client({\n\tintents: [\n\t\tGatewayIntentBits.Guilds,\n\t\tGatewayIntentBits.GuildMessages,\n\t\tGatewayIntentBits.GuildMembers,\n\t\tGatewayIntentBits.GuildBans,\n\t\tGatewayIntentBits.MessageContent,\n\t\tGatewayIntentBits.DirectMessages,\n\t],\n});\n\nclient.once('ready', async () => {\n\tsetActivity(client);\n\tloxt.ready(`on ${client.user?.tag}`);\n\tloxt.info(`in ${client.guilds.cache.size} servers`);\n});\n\nclient.on('messageCreate', async message => {\n\tif (!message.inGuild()) return;\n\tif (message.author.id === client.user?.id) return;\n\tif (message.author.bot) return;\n\n\ttry {\n\t\tconst guild = await prisma.guild.findUnique({\n\t\t\twhere: {\n\t\t\t\tguild: message.guildId,\n\t\t\t},\n\t\t\tselect: {\n\t\t\t\tlogs: true,\n\t\t\t\ttoxicityFilter: true,\n\t\t\t},\n\t\t});\n\n\t\tconst logs = message.guild.channels.cache.get(guild?.logs!) as TextChannel | null;\n\n\t\tconst level = await analyzeText(message.content);\n\t\tconst danger = Math.ceil(level);\n\n\t\tconst user = await prisma.user.findUnique({\n\t\t\twhere: { user: message.author.id },\n\t\t\tselect: { toxicity: true },\n\t\t});\n\n\t\tif (danger < 20) {\n\t\t\tawait prisma.user.upsert({\n\t\t\t\twhere: { user: message.author.id },\n\t\t\t\tupdate: { toxicity: { decrement: 0.2 } },\n\t\t\t\tcreate: { user: message.author.id },\n\t\t\t});\n\t\t\tif ((user?.toxicity ?? 0) - 0.2 <= 0) {\n\t\t\t\tawait prisma.user.upsert({\n\t\t\t\t\twhere: { user: message.author.id },\n\t\t\t\t\tupdate: { toxicity: 0 },\n\t\t\t\t\tcreate: { user: message.author.id },\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (danger > 80) {\n\t\t\tif (!guild?.toxicityFilter) return;\n\t\t\tawait prisma.user.upsert({\n\t\t\t\twhere: { user: message.author.id },\n\t\t\t\tupdate: { toxicity: { increment: 2.5 } },\n\t\t\t\tcreate: { user: message.author.id, toxicity: 2.5 },\n\t\t\t});\n\t\t\tif ((user?.toxicity ?? 0) + 2.5 >= 100) {\n\t\t\t\tawait prisma.user.upsert({\n\t\t\t\t\twhere: { user: message.author.id },\n\t\t\t\t\tupdate: { toxicity: 2.5 },\n\t\t\t\t\tcreate: { user: message.author.id, toxicity: 2.5 },\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tif (!guild?.toxicityFilter) return;\n\t\tif (danger < 90) return;\n\n\t\tawait message.delete();\n\t\tconst embed = new EmbedBuilder({\n\t\t\tauthor: {\n\t\t\t\tname: message.author.tag,\n\t\t\t\ticon_url: message.author.displayAvatarURL(),\n\t\t\t},\n\t\t\ttitle: 'Toxic message detected!',\n\t\t\tdescription: `The message ||${message.content}|| has been reported in ${message.channel} for toxicity`,\n\t\t\tcolor: Colors.Blurple,\n\t\t});\n\t\tawait logs?.send({ embeds: [embed] });\n\t} catch {\n\t\treturn;\n\t}\n});\n\nclient.on('messageCreate', async message => {\n\tif (!message.inGuild()) return;\n\n\tconst guild = await prisma.guild.findUnique({\n\t\twhere: {\n\t\t\tguild: message.guildId,\n\t\t},\n\t\tselect: {\n\t\t\tantiSpam: true,\n\t\t\tadmins: true,\n\t\t\towners: true,\n\t\t\tspamMinutes: true,\n\t\t\tspamMessageLimit: true,\n\t\t},\n\t});\n\n\tif (!guild?.antiSpam) return;\n\tif (guild?.admins.includes(message.author.id) || guild?.owners.includes(message.author.id) || message.author.id === message.guild.ownerId) return;\n\n\tconst limit = guild?.spamMessageLimit;\n\n\ttry {\n\t\tconst msgCount = (usersCollection.get(message.author.id) ?? 0) + 1;\n\t\tif (message.author.id === client.user?.id) return;\n\t\tif (!usersCollection.has(message.author.id)) {\n\t\t\tusersCollection.set(message.author.id, 1);\n\t\t\tsetTimeout(() => {\n\t\t\t\tusersCollection.delete(message.author.id);\n\t\t\t}, 5000);\n\t\t\treturn;\n\t\t}\n\t\tif (msgCount === limit) {\n\t\t\tawait message.member?.timeout(60000 * guild?.spamMinutes, 'spamming');\n\t\t\tconst messages = [...message.channel.messages.cache.filter(m => m.author.id === message.author.id).values()].slice(0, limit);\n\t\t\tawait message.channel.bulkDelete(messages);\n\t\t}\n\t\tusersCollection.set(message.author.id, msgCount);\n\t} catch {\n\t\tmessage.guild.roles.cache\n\t\t\t.filter(r => r.permissions.has(PermissionFlagsBits.Administrator))\n\t\t\t.forEach(\n\t\t\t\tasync r =>\n\t\t\t\t\tawait message.member?.roles\n\t\t\t\t\t\t.remove(r, 'Creating too many channels')\n\t\t\t\t\t\t.catch(async () => await r.setPermissions([], 'Creating too many channels').catch(() => {}))\n\t\t\t);\n\t\tsetTimeout(async () => {\n\t\t\tawait message.member?.timeout(60000 * guild?.spamMinutes, 'spamming');\n\t\t\tconst messages = [...message.channel.messages.cache.filter(m => m.author.id === message.author.id).values()].slice(0, limit);\n\t\t\tawait message.channel.bulkDelete(messages);\n\t\t}, 2000);\n\t}\n});\n\nclient.on('guildCreate', async guild => {\n\tconst embed = new EmbedBuilder({\n\t\ttitle: '<:pyrite:1014918476982394891> Thanks for using Pyrite',\n\t\tdescription:\n\t\t\t'Thanks for using me! I will make sure to prevent your server from getting raided etc. \\nTo set me up please type `/setup`. If you need help join our [official support server](https://discord.gg/C8bpMPwJen) \\nIf you want to view the full commands I have please type `/help`\\nI have more features including **Moderation**, **Whitelisting** and much more.',\n\t\tcolor: Colors.Blurple,\n\t});\n\tconst owner = await guild.fetchOwner();\n\towner.send({ embeds: [embed], components: [buttons] }).catch(() => {});\n});\n\nclient.on('interactionCreate', async interaction => {\n\tif (!interaction.isChatInputCommand()) return;\n\tconst command = commands.get(interaction.commandName);\n\tawait command?.run(interaction);\n});\n\nclient.on('guildMemberAdd', async member => {\n\tconst guild = await prisma.guild.findUnique({\n\t\twhere: { guild: member.guild.id },\n\t\tselect: { raidMode: true },\n\t});\n\n\tif (!guild?.raidMode) return;\n\n\tconst raidModeEmbed = new EmbedBuilder({\n\t\tauthor: {\n\t\t\tname: member.guild.name,\n\t\t\ticon_url: member.guild.iconURL()!,\n\t\t},\n\t\tdescription: `<:1412reply:1009087336828649533> **Join Gate** is currently active in this server. Meaning no one can join at the moment.`,\n\t\tcolor: Colors.Blurple,\n\t});\n\n\tawait member.send({ embeds: [raidModeEmbed] });\n\tawait member.kick('Join Gate System');\n});\n\nclient.on('interactionCreate', async interaction => {\n\tif (!interaction.isButton()) return;\n\tif (interaction.customId !== 'lockdown_continue') return;\n\n\ttry {\n\t\tawait interaction.deferReply({ ephemeral: true });\n\n\t\tconst channel = (await interaction.guild?.channels.create({\n\t\t\tname: 'server-lockdown',\n\t\t})) as TextChannel | VoiceChannel;\n\n\t\tinteraction.guild?.channels.cache.forEach(ch => {\n\t\t\tconst c = ch as TextChannel | VoiceChannel;\n\t\t\tinteraction.guild?.roles.cache\n\t\t\t\t.filter(role => role.id !== '@everyone')\n\t\t\t\t.forEach(role => c.permissionOverwrites.edit(role.id, { SendMessages: false }));\n\t\t});\n\n\t\tconst lockDownEmbed = new EmbedBuilder({\n\t\t\tauthor: {\n\t\t\t\tname: interaction.guild?.name!,\n\t\t\t\ticon_url: interaction.guild?.iconURL()!,\n\t\t\t},\n\t\t\tdescription: `This server is currently on lockdown. Meaning no one can chat in this server. Please wait until the owners unlock the server.`,\n\t\t\tcolor: Colors.Blurple,\n\t\t});\n\n\t\tconst message = await channel?.send({ embeds: [lockDownEmbed] });\n\n\t\tawait prisma.guild.upsert({\n\t\t\twhere: {\n\t\t\t\tguild: interaction.guildId!,\n\t\t\t},\n\t\t\tupdate: {\n\t\t\t\traidMode: true,\n\t\t\t\tlockdownChannel: channel?.id,\n\t\t\t\tlockdownMessage: message?.id,\n\t\t\t},\n\t\t\tcreate: {\n\t\t\t\tguild: interaction.guildId!,\n\t\t\t\traidMode: true,\n\t\t\t\tlockdownChannel: channel?.id,\n\t\t\t\tlockdownMessage: message?.id,\n\t\t\t},\n\t\t});\n\n\t\tawait interaction.editReply({ embeds: [successEmbedBuilder(`lockdown was successfully activated`)] });\n\t} catch {\n\t\tawait interaction.editReply(defaultError);\n\t}\n});\n\nclient.on('interactionCreate', async interaction => {\n\tif (!interaction.isButton()) return;\n\tif (interaction.customId !== 'lockdown_cancel') return;\n\n\tawait interaction.reply({ embeds: [successEmbedBuilder(`lockdown has been cancelled`)], ephemeral: true });\n});\n\nclient.on('interactionCreate', async interaction => {\n\tif (!interaction.isSelectMenu()) return;\n\tif (interaction.customId !== 'help_select') return;\n\n\tconst helpEmbed = new EmbedBuilder({ color: Colors.Blurple });\n\n\tswitch (interaction.values[0]) {\n\t\tcase 'start':\n\t\t\thelpEmbed\n\t\t\t\t.setTitle('<:pyrite:1014918476982394891> Pyrite Bot')\n\t\t\t\t.setDescription(\n\t\t\t\t\t'<:1412reply:1009087336828649533> Welcome to **Pyrite Bot** heres a list of my features below. If you need help using any scroll down in the select menu for them.'\n\t\t\t\t)\n\t\t\t\t.setFields(\n\t\t\t\t\t{ name: '<:moderator:1008717826552504321> Moderation', value: '<:1412reply:1009087336828649533> Advanced moderation system.' },\n\t\t\t\t\t{ name: '<:check:1008718056891101194> Verification', value: '<:1412reply:1009087336828649533> Advanced verification system.' },\n\t\t\t\t\t{ name: '<:ban:1020333545887113246> Anti Raid', value: '<:1412reply:1009087336828649533> Advanced Anti Raid system.' },\n\t\t\t\t\t{ name: '<:staff:1008719693827285002> Whitelisting', value: '<:1412reply:1009087336828649533> Advanced whitelist system.' },\n\t\t\t\t\t{ name: '<:muted:1010127791070658570> AutoMod', value: '<:1412reply:1009087336828649533> Advanced AutoMod system.' }\n\t\t\t\t);\n\t\t\tbreak;\n\n\t\tcase 'moderation':\n\t\t\thelpEmbed.setTitle('<:moderator:1008717826552504321> Moderation').setDescription(\"> Here's a list of the moderation commands\").setFields(\n\t\t\t\t{\n\t\t\t\t\tname: '`/warns add <user> <reason>`',\n\t\t\t\t\tvalue: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Warn a server member that was spamming or not following the rules. \\n',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '`/warns show <user>`',\n\t\t\t\t\tvalue: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Show the amount of warnings a user has.',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '`/warns remove <user> <id>`',\n\t\t\t\t\tvalue: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Remove a users warn by using there warn id.',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '`/warn <user> <reason>`',\n\t\t\t\t\tvalue:\n\t\t\t\t\t\t'<:blank:1008721958210383902> <:arrow:1009057573590290452> Warn a server member that was spamming or not following the rules. (alias to `/warns add <user> <reason>`)',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '`/mute <user> <reason>`',\n\t\t\t\t\tvalue: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Mute a certain user thats breaking your server rules. \\n',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '`/clear <amount>`',\n\t\t\t\t\tvalue: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Clear a certain amount of messages in a channel. \\n',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '`/kick <user> <reason>`',\n\t\t\t\t\tvalue:\n\t\t\t\t\t\t'<:blank:1008721958210383902> <:arrow:1009057573590290452> Kick a certain user that got muted to many times or is just trying to raid your server.',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '`/ban <user> <reason>`',\n\t\t\t\t\tvalue: \"<:blank:1008721958210383902> <:arrow:1009057573590290452> Ban a user thats either a raider or didn't follow your server rules.\",\n\t\t\t\t},\n        {\n\t\t\t\t\tname: '`/modnick <user>`',\n\t\t\t\t\tvalue: \"<:blank:1008721958210383902> <:arrow:1009057573590290452> Change a users name to a pingable one.\",\n\t\t\t\t},\n\t\t\t\t{ name: '`/logs on <channel>`', value: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Set the mod log channel.' },\n\t\t\t\t{ name: '`/logs off`', value: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Turn off mod logs.' }\n\t\t\t);\n\t\t\tbreak;\n\n\t\tcase 'verification':\n\t\t\thelpEmbed\n\t\t\t\t.setTitle('<:check:1008718056891101194> Verification')\n\t\t\t\t.setDescription(\"> Here's a list of the verification commands\")\n\t\t\t\t.setFields(\n\t\t\t\t\t{ name: '`/verification on <channel>`', value: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Turn on verification.' },\n\t\t\t\t\t{ name: '`/verification off`', value: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Turn off verification.' }\n\t\t\t\t);\n\t\t\tbreak;\n\n\t\tcase 'whitelisting':\n\t\t\thelpEmbed.setTitle('<:staff:1008719693827285002> Whitelisting').setDescription(\"> Here's a list of the whitelist commands\").setFields(\n\t\t\t\t{ name: '`/whitelist member <role>`', value: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Set the member role whitelist \\n' },\n\t\t\t\t{ name: '`/whitelist mod <role>`', value: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Set the mod role whitelist. \\n' },\n\t\t\t\t{ name: '`/whitelist admin <role>`', value: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Set the admin role whitelist. \\n' },\n\t\t\t\t{ name: '`/whitelist show`', value: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Show all whitelisted roles \\n' },\n\t\t\t\t{\n\t\t\t\t\tname: '`/whitelist owner <user>`',\n\t\t\t\t\tvalue: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Add a user to the owner whitelist \\n',\n\t\t\t\t},\n\t\t\t\t{ name: '`/whitelist remove <setting>`', value: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Remove a whitelisted role \\n' }\n\t\t\t);\n\t\t\tbreak;\n\n\t\tcase 'antiraid':\n\t\t\thelpEmbed.setTitle('<:ban:1020333545887113246> Anti Raid').setDescription(\"> Here's a list of the anti raid commands\").setFields(\n\t\t\t\t{\n\t\t\t\t\tname: '`/joingate on`',\n\t\t\t\t\tvalue:\n\t\t\t\t\t\t'<:blank:1008721958210383902> <:arrow:1009057573590290452> Turn on raid mode. **Pyrite** will start to kick every new member that joins so only use this if theres a big raid. \\n',\n\t\t\t\t},\n\t\t\t\t{ name: '`/joingate off`', value: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Use this to turn off raid mode. \\n' },\n\t\t\t\t{\n\t\t\t\t\tname: '`/antiraid on`',\n\t\t\t\t\tvalue: \"<:blank:1008721958210383902> <:arrow:1009057573590290452> Turn on **Pyrite**'s anti raid system to keep your server safe.\",\n\t\t\t\t},\n\t\t\t\t{ name: '`/antiraid off`', value: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Turn off the anti raid system.' },\n\t\t\t\t{\n\t\t\t\t\tname: '`/lockdown on`',\n\t\t\t\t\tvalue:\n\t\t\t\t\t\t'<:blank:1008721958210383902> <:arrow:1009057573590290452> __Only use this if theres a big raid.__ **Pyrite** will fully lockdown the entire server and make sure theres not a raid. \\n',\n\t\t\t\t},\n\t\t\t\t{ name: '`/lockdown off`', value: '<:blank:1008721958210383902> <:arrow:1009057573590290452> __Use this to stop the lockdown__ \\n' },\n\t\t\t\t{\n\t\t\t\t\tname: '`/lockdown update <message>`',\n\t\t\t\t\tvalue: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Post updates during your server lockdown for members to see.',\n\t\t\t\t}\n\t\t\t);\n\t\t\tbreak;\n\n\t\tcase 'automod':\n\t\t\thelpEmbed.setTitle('<:muted:1010127791070658570> Automod').setDescription(\"> Here's a list of the automod commands\").setFields(\n\t\t\t\t{ name: '`/antispam on`', value: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Turn on anti spam so no one can spam.' },\n\t\t\t\t{ name: '`/antispam off`', value: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Turn on off anti spam.' },\n\t\t\t\t{\n\t\t\t\t\tname: '`/antispam messagelimit <limit>`',\n\t\t\t\t\tvalue:\n\t\t\t\t\t\t'<:blank:1008721958210383902> <:arrow:1009057573590290452> Set a limit for the amount of messages a user can send in a couple seconds before they get muted. \\n',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '`/antispam minutes <minutes>`',\n\t\t\t\t\tvalue:\n\t\t\t\t\t\t'<:blank:1008721958210383902> <:arrow:1009057573590290452> Set a number of how many minutes a spammer will be muted for when they spam. \\n',\n\t\t\t\t},\n\t\t\t\t{ name: '`/antitoxicity on`', value: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Turn on anti toxicity in your server. \\n' },\n\t\t\t\t{\n\t\t\t\t\tname: '`/antitoxicity off`',\n\t\t\t\t\tvalue: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Turn off anti toxicity in your server. \\n',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '`/antilinks on`',\n\t\t\t\t\tvalue: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Turn on anti server links in your server. \\n',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '`/antilinks off`',\n\t\t\t\t\tvalue: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Turn off anti server links in your server. \\n',\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: '`/antialts on`',\n\t\t\t\t\tvalue: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Turn on the anti alts system to keep alt accounts out of your server. \\n',\n\t\t\t\t},\n\t\t\t\t{ name: '`/antialts off`', \n          value: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Turn off the anti alts system. \\n' \n        },\n        {\n\t\t\t\t\tname: '`/antinsfw on`',\n\t\t\t\t\tvalue: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Turn on the anti NSFW system. \\n',\n\t\t\t\t},\n        {\n\t\t\t\t\tname: '`/antinsfw on`',\n\t\t\t\t\tvalue: '<:blank:1008721958210383902> <:arrow:1009057573590290452> Turn on the anti NSFW system. \\n',\n\t\t\t\t},\n\t\t\t);\n\t\t\tbreak;\n\t}\n\tawait interaction.update({ embeds: [helpEmbed] });\n});\n\nclient.on('guildCreate', () => setActivity(client));\nclient.on('guildDelete', () => setActivity(client));\n\nconst registerCommands = async () => {\n\tconst files = await readdir(join(dir, './commands'));\n\tfiles\n\t\t.filter(file => file.endsWith('.js'))\n\t\t.forEach(async file => {\n\t\t\tconst { default: Command }: { default: new () => ICommand } = await import(join(dir, `./commands/${file}`));\n\t\t\tconst command = new Command();\n\t\t\tcommands.set(command.data.name, command);\n\t\t});\n};\n\nconst registerEvents = async () => {\n\tconst files = await readdir(join(dir, './events'));\n\tfiles\n\t\t.filter(file => file.endsWith('.js'))\n\t\t.forEach(async file => {\n\t\t\tconst { default: Event }: { default: new () => IEvent } = await import(join(dir, `./events/${file}`));\n\t\t\tconst event = new Event();\n\t\t\tclient.on(event.name, event.run.bind(event));\n\t\t});\n};\n\nconst server = Fastify();\n\nserver.get('/', async () => 'Bot hosting running correctly!');\n\ntry {\n\tawait registerCommands();\n\tawait registerEvents();\n\tawait client.login(TOKEN);\n\tawait server.listen({ port: 3000, host: '0.0.0.0' });\n\tawait rest.put(Routes.applicationCommands(client.user?.id!), { body: commands.map(({ data }) => data.toJSON()) });\n} catch (err) {\n\tloxt.error(err);\n}\n"],
  "mappings": "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",
  "names": ["_a"]
}
