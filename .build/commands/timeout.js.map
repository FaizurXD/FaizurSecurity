{
  "version": 3,
  "sources": ["../../commands/timeout.ts"],
  "sourcesContent": ["import type { ChatInputCommandInteraction, GuildMember, TextChannel } from 'discord.js';\nimport { SlashCommandBuilder, PermissionFlagsBits } from 'discord.js';\nimport { errorEmbedBuilder, successEmbedBuilder, warnEmbedBuilder, logBuilder } from '../utils.js';\nimport prisma from '../database.js';\n\nexport default class Mute {\n\tdata = new SlashCommandBuilder()\n\t\t.setName('timeout')\n\t\t.setDescription('Timeouts a user from the server.')\n\t\t.setDefaultMemberPermissions(PermissionFlagsBits.MuteMembers)\n\t\t.addUserOption(option => option.setName('user').setDescription('Select the user (or user id) to timeout them.').setRequired(true))\n\t\t.addIntegerOption(option => option.setName('minutes').setDescription('The minutes the user will be timeouted for.').setRequired(true))\n\t\t.addStringOption(option =>\n\t\t\toption.setName('reason').setDescription('You can pass a string with a reason for timeouting the user.').setRequired(true)\n\t\t);\n\n\tasync run(interaction: ChatInputCommandInteraction) {\n\t\tif (!interaction.inGuild()) {\n\t\t\tawait interaction.reply({ embeds: [errorEmbedBuilder('This command can only be run on a server!')] });\n\t\t\treturn;\n\t\t}\n\n\t\tconst member = interaction.options.getMember('user') as GuildMember;\n\t\tconst minutes = interaction.options.getInteger('minutes', true);\n\t\tconst reason = interaction.options.getString('reason', true);\n\n\t\tif (!interaction.guild?.members?.me?.permissions?.has(PermissionFlagsBits.MuteMembers)) {\n\t\t\tawait interaction.reply({ embeds: [errorEmbedBuilder(\"The bot doesn't have permissions to timeout members!\")], ephemeral: true });\n\t\t\treturn;\n\t\t}\n\n\t\tif (!member) {\n\t\t\tawait interaction.reply({ embeds: [errorEmbedBuilder('Member could not be found!')], ephemeral: true });\n\t\t\treturn;\n\t\t}\n\n\t\tconst msg = await member.send({ embeds: [warnEmbedBuilder(`You have been timeouted in **${interaction.guild.name}**!`)] }).catch(() => {})\n    \n\t\ttry {\n\t\t\tawait member.timeout(minutes * 60_000, reason);\n\t\t} catch (err) {\n\t\t\tawait interaction.reply({ embeds: [errorEmbedBuilder(`${member.user} cannot be timeouted!`)], ephemeral: true });\n\t\t\tawait msg?.edit({ embeds: [warnEmbedBuilder(`${interaction.user} tried to timeout you in **${interaction.guild.name}**!`)] })\n\t\t\treturn;\n\t\t}\n\n\t\tawait interaction.reply({ embeds: [successEmbedBuilder(`${member.user} was sucessfully timeouted.`)], ephemeral: true });\n\n\t\tconst guild = await prisma.guild.findUnique({\n\t\t\twhere: { guild: interaction.guildId },\n\t\t\tselect: { logs: true },\n\t\t});\n\n\t\tconst logs = interaction.guild.channels.cache.get(guild?.logs!) as TextChannel;\n\t\tawait logs?.send(\n\t\t\tlogBuilder({\n\t\t\t\tmember: interaction.member as GuildMember,\n\t\t\t\tcontent: `${member.user} has been muted by ${interaction.user}!`,\n\t\t\t\treason,\n\t\t\t})\n\t\t);\n\t}\n}\n"],
  "mappings": "AACA,SAAS,qBAAqB,2BAA2B;AACzD,SAAS,mBAAmB,qBAAqB,kBAAkB,kBAAkB;AACrF,OAAO,YAAY;AAEnB,qBAAqB,KAAK;AAAA,EAA1B;AACC,gBAAO,IAAI,oBAAoB,EAC7B,QAAQ,SAAS,EACjB,eAAe,kCAAkC,EACjD,4BAA4B,oBAAoB,WAAW,EAC3D,cAAc,YAAU,OAAO,QAAQ,MAAM,EAAE,eAAe,+CAA+C,EAAE,YAAY,IAAI,CAAC,EAChI,iBAAiB,YAAU,OAAO,QAAQ,SAAS,EAAE,eAAe,6CAA6C,EAAE,YAAY,IAAI,CAAC,EACpI;AAAA,MAAgB,YAChB,OAAO,QAAQ,QAAQ,EAAE,eAAe,8DAA8D,EAAE,YAAY,IAAI;AAAA,IACzH;AAAA;AAAA,EAED,MAAM,IAAI,aAA0C;AAhBrD;AAiBE,QAAI,CAAC,YAAY,QAAQ,GAAG;AAC3B,YAAM,YAAY,MAAM,EAAE,QAAQ,CAAC,kBAAkB,2CAA2C,CAAC,EAAE,CAAC;AACpG;AAAA,IACD;AAEA,UAAM,SAAS,YAAY,QAAQ,UAAU,MAAM;AACnD,UAAM,UAAU,YAAY,QAAQ,WAAW,WAAW,IAAI;AAC9D,UAAM,SAAS,YAAY,QAAQ,UAAU,UAAU,IAAI;AAE3D,QAAI,GAAC,mCAAY,UAAZ,mBAAmB,YAAnB,mBAA4B,OAA5B,mBAAgC,gBAAhC,mBAA6C,IAAI,oBAAoB,eAAc;AACvF,YAAM,YAAY,MAAM,EAAE,QAAQ,CAAC,kBAAkB,sDAAsD,CAAC,GAAG,WAAW,KAAK,CAAC;AAChI;AAAA,IACD;AAEA,QAAI,CAAC,QAAQ;AACZ,YAAM,YAAY,MAAM,EAAE,QAAQ,CAAC,kBAAkB,4BAA4B,CAAC,GAAG,WAAW,KAAK,CAAC;AACtG;AAAA,IACD;AAEA,UAAM,MAAM,MAAM,OAAO,KAAK,EAAE,QAAQ,CAAC,iBAAiB,gCAAgC,YAAY,MAAM,SAAS,CAAC,EAAE,CAAC,EAAE,MAAM,MAAM;AAAA,IAAC,CAAC;AAEzI,QAAI;AACH,YAAM,OAAO,QAAQ,UAAU,KAAQ,MAAM;AAAA,IAC9C,SAAS,KAAP;AACD,YAAM,YAAY,MAAM,EAAE,QAAQ,CAAC,kBAAkB,GAAG,OAAO,2BAA2B,CAAC,GAAG,WAAW,KAAK,CAAC;AAC/G,aAAM,2BAAK,KAAK,EAAE,QAAQ,CAAC,iBAAiB,GAAG,YAAY,kCAAkC,YAAY,MAAM,SAAS,CAAC,EAAE;AAC3H;AAAA,IACD;AAEA,UAAM,YAAY,MAAM,EAAE,QAAQ,CAAC,oBAAoB,GAAG,OAAO,iCAAiC,CAAC,GAAG,WAAW,KAAK,CAAC;AAEvH,UAAM,QAAQ,MAAM,OAAO,MAAM,WAAW;AAAA,MAC3C,OAAO,EAAE,OAAO,YAAY,QAAQ;AAAA,MACpC,QAAQ,EAAE,MAAM,KAAK;AAAA,IACtB,CAAC;AAED,UAAM,OAAO,YAAY,MAAM,SAAS,MAAM,IAAI,+BAAO,IAAK;AAC9D,WAAM,6BAAM;AAAA,MACX,WAAW;AAAA,QACV,QAAQ,YAAY;AAAA,QACpB,SAAS,GAAG,OAAO,0BAA0B,YAAY;AAAA,QACzD;AAAA,MACD,CAAC;AAAA;AAAA,EAEH;AACD;",
  "names": []
}
