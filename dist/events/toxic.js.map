{
  "version": 3,
  "sources": ["../../events/toxic.ts"],
  "sourcesContent": ["import type { Interaction } from \"discord.js\";\nimport { Events } from \"discord.js\";\nimport {\n\tsuccessEmbedBuilder,\n\terrorEmbedBuilder,\n\tgetQuarantine,\n} from \"../utils.js\";\nimport prisma from \"../database.js\";\n\nexport default class RoleDeletions {\n\tname = Events.InteractionCreate;\n\n\tasync run(interaction: Interaction) {\n\t\tif (!interaction.isButton()) return;\n\n\t\tif (!interaction.inGuild()) {\n\t\t\tawait interaction.reply({\n\t\t\t\tembeds: [\n\t\t\t\t\terrorEmbedBuilder(\"This command can only be run on a server!\"),\n\t\t\t\t],\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tconst [_, memberId] = interaction.customId.split(\"-\");\n\t\tconst member = await interaction.guild?.members.fetch(memberId);\n\n\t\tif (!member) {\n\t\t\tawait interaction.reply({\n\t\t\t\tembeds: [errorEmbedBuilder(\"The member is not in this server\")],\n\t\t\t\tephemeral: true,\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tif (interaction.customId.startsWith(\"kick_toxic\")) {\n\t\t\tawait member.kick(\"toxicity levels higher than normal\");\n\t\t\tawait interaction.message.delete();\n\t\t} else if (interaction.customId.startsWith(\"ban_toxic\")) {\n\t\t\tawait member.ban({ reason: \"toxicity levels higher than normal\" });\n\t\t\tawait interaction.message.delete();\n\t\t} else if (interaction.customId.startsWith(\"verify_toxic\")) {\n\t\t\tconst guild = await prisma.guild.findUnique({\n\t\t\t\twhere: { guild: interaction.guildId },\n\t\t\t\tselect: { members: true },\n\t\t\t});\n\n\t\t\tconst role = interaction.guild?.roles.cache.get(guild?.members ?? \"\");\n\n\t\t\tif (role) {\n\t\t\t\tawait member?.roles?.add(role);\n\t\t\t}\n\t\t\tawait interaction.message.delete();\n\t\t}\n\t}\n}\n"],
  "mappings": ";AACA,SAAS,cAAc;AACvB;AAAA,EAEC;AAAA,OAEM;AACP,OAAO,YAAY;AAEnB,qBAAqB,cAAc;AAAA,EAClC,OAAO,OAAO;AAAA,EAEd,MAAM,IAAI,aAA0B;AAZrC;AAaE,QAAI,CAAC,YAAY,SAAS;AAAG;AAE7B,QAAI,CAAC,YAAY,QAAQ,GAAG;AAC3B,YAAM,YAAY,MAAM;AAAA,QACvB,QAAQ;AAAA,UACP,kBAAkB,2CAA2C;AAAA,QAC9D;AAAA,MACD,CAAC;AACD;AAAA,IACD;AAEA,UAAM,CAAC,GAAG,QAAQ,IAAI,YAAY,SAAS,MAAM,GAAG;AACpD,UAAM,SAAS,QAAM,iBAAY,UAAZ,mBAAmB,QAAQ,MAAM;AAEtD,QAAI,CAAC,QAAQ;AACZ,YAAM,YAAY,MAAM;AAAA,QACvB,QAAQ,CAAC,kBAAkB,kCAAkC,CAAC;AAAA,QAC9D,WAAW;AAAA,MACZ,CAAC;AACD;AAAA,IACD;AAEA,QAAI,YAAY,SAAS,WAAW,YAAY,GAAG;AAClD,YAAM,OAAO,KAAK,oCAAoC;AACtD,YAAM,YAAY,QAAQ,OAAO;AAAA,IAClC,WAAW,YAAY,SAAS,WAAW,WAAW,GAAG;AACxD,YAAM,OAAO,IAAI,EAAE,QAAQ,qCAAqC,CAAC;AACjE,YAAM,YAAY,QAAQ,OAAO;AAAA,IAClC,WAAW,YAAY,SAAS,WAAW,cAAc,GAAG;AAC3D,YAAM,QAAQ,MAAM,OAAO,MAAM,WAAW;AAAA,QAC3C,OAAO,EAAE,OAAO,YAAY,QAAQ;AAAA,QACpC,QAAQ,EAAE,SAAS,KAAK;AAAA,MACzB,CAAC;AAED,YAAM,QAAO,iBAAY,UAAZ,mBAAmB,MAAM,MAAM,KAAI,+BAAO,YAAW;AAElE,UAAI,MAAM;AACT,gBAAM,sCAAQ,UAAR,mBAAe,IAAI;AAAA,MAC1B;AACA,YAAM,YAAY,QAAQ,OAAO;AAAA,IAClC;AAAA,EACD;AACD;",
  "names": []
}
