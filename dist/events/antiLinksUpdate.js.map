{
  "version": 3,
  "sources": ["../../events/antiLinksUpdate.ts"],
  "sourcesContent": ["import type { TextChannel, Message } from \"discord.js\";\nimport { Events } from \"discord.js\";\nimport { logBuilder } from \"../utils.js\";\nimport prisma from \"../database.js\";\n\nexport default class AntiLinks {\n\tname = Events.MessageUpdate;\n\n\tasync run(_: Message, message: Message) {\n\t\tif (!message.inGuild()) return;\n\t\tconst guild = await prisma.guild.findUnique({\n\t\t\twhere: { guild: message.guildId },\n\t\t\tselect: { logs: true, antiLinks: true },\n\t\t});\n\t\tif (!guild?.antiLinks) return;\n\t\tif (\n\t\t\tmessage.content.includes(\"discord.gg/\") ||\n\t\t\tmessage.content.includes(\"dsc.gg/\") ||\n\t\t\tmessage.content.includes(\"discord.com/invite/\")\n\t\t) {\n\t\t\tawait message.delete();\n\t\t\tconst logs = message.guild?.channels.cache.get(\n\t\t\t\tguild?.logs ?? \"\",\n\t\t\t) as TextChannel;\n\t\t\tawait logs?.send(\n\t\t\t\tlogBuilder({\n\t\t\t\t\t// rome-ignore lint/style/noNonNullAssertion: Member will always be defined.\n\t\t\t\t\tmember: message.member!,\n\t\t\t\t\treason: \"Self promote is not allowed in this server!\",\n\t\t\t\t}),\n\t\t\t);\n\t\t}\n\t}\n}\n"],
  "mappings": ";AACA,SAAS,cAAc;AACvB,SAAS,kBAAkB;AAC3B,OAAO,YAAY;AAEnB,qBAAqB,UAAU;AAAA,EAC9B,OAAO,OAAO;AAAA,EAEd,MAAM,IAAI,GAAY,SAAkB;AARzC;AASE,QAAI,CAAC,QAAQ,QAAQ;AAAG;AACxB,UAAM,QAAQ,MAAM,OAAO,MAAM,WAAW;AAAA,MAC3C,OAAO,EAAE,OAAO,QAAQ,QAAQ;AAAA,MAChC,QAAQ,EAAE,MAAM,MAAM,WAAW,KAAK;AAAA,IACvC,CAAC;AACD,QAAI,EAAC,+BAAO;AAAW;AACvB,QACC,QAAQ,QAAQ,SAAS,aAAa,KACtC,QAAQ,QAAQ,SAAS,SAAS,KAClC,QAAQ,QAAQ,SAAS,qBAAqB,GAC7C;AACD,YAAM,QAAQ,OAAO;AACrB,YAAM,QAAO,aAAQ,UAAR,mBAAe,SAAS,MAAM;AAAA,SAC1C,+BAAO,SAAQ;AAAA;AAEhB,aAAM,6BAAM;AAAA,QACX,WAAW;AAAA;AAAA,UAEV,QAAQ,QAAQ;AAAA,UAChB,QAAQ;AAAA,QACT,CAAC;AAAA;AAAA,IAEH;AAAA,EACD;AACD;",
  "names": []
}
