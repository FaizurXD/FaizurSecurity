{
  "version": 3,
  "sources": ["../../commands/kick.ts"],
  "sourcesContent": ["import type {\n\tChatInputCommandInteraction,\n\tGuildMember,\n\tTextChannel,\n} from \"discord.js\";\nimport { SlashCommandBuilder, PermissionFlagsBits } from \"discord.js\";\nimport {\n\terrorEmbedBuilder,\n\tsuccessEmbedBuilder,\n\twarnEmbedBuilder,\n\tlogBuilder,\n} from \"../utils.js\";\nimport prisma from \"../database.js\";\n\nexport default class Kick {\n\tdata = new SlashCommandBuilder()\n\t\t.setName(\"kick\")\n\t\t.setDescription(\"Kicks a user from the server.\")\n\t\t.setDefaultMemberPermissions(PermissionFlagsBits.KickMembers)\n\t\t.addUserOption((option) =>\n\t\t\toption\n\t\t\t\t.setName(\"user\")\n\t\t\t\t.setDescription(\"You can pass a mention or an id of a user.\")\n\t\t\t\t.setRequired(true),\n\t\t)\n\t\t.addStringOption((option) =>\n\t\t\toption\n\t\t\t\t.setName(\"reason\")\n\t\t\t\t.setDescription(\n\t\t\t\t\t\"You can pass a string with a reason for kicking the user of the server.\",\n\t\t\t\t)\n\t\t\t\t.setRequired(true),\n\t\t);\n\n\tasync run(interaction: ChatInputCommandInteraction) {\n\t\tif (!interaction.inGuild()) {\n\t\t\tawait interaction.reply({\n\t\t\t\tembeds: [\n\t\t\t\t\terrorEmbedBuilder(\"This command can only be run on a server!\"),\n\t\t\t\t],\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tconst member = interaction.options.getMember(\"user\") as GuildMember;\n\t\tconst reason = interaction.options.getString(\"reason\", true);\n\n\t\tif (\n\t\t\t!interaction.guild?.members?.me?.permissions?.has(\n\t\t\t\tPermissionFlagsBits.KickMembers,\n\t\t\t)\n\t\t) {\n\t\t\tawait interaction.reply({\n\t\t\t\tembeds: [\n\t\t\t\t\terrorEmbedBuilder(\n\t\t\t\t\t\t\"The bot doesn't have permissions to kick members!\",\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t\tephemeral: true,\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tif (!member) {\n\t\t\tawait interaction.reply({\n\t\t\t\tembeds: [errorEmbedBuilder(\"Member could not be found!\")],\n\t\t\t\tephemeral: true,\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tconst msg = await member\n\t\t\t.send({\n\t\t\t\tembeds: [\n\t\t\t\t\twarnEmbedBuilder(\n\t\t\t\t\t\t`You have been kicked from **${interaction.guild.name}**!`,\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t})\n\t\t\t.catch(() => {});\n\n\t\ttry {\n\t\t\tawait member.kick(reason);\n\t\t} catch {\n\t\t\tawait interaction.reply({\n\t\t\t\tembeds: [errorEmbedBuilder(\"Cannot kick this member!\")],\n\t\t\t\tephemeral: true,\n\t\t\t});\n\t\t\tawait msg?.edit({\n\t\t\t\tembeds: [\n\t\t\t\t\twarnEmbedBuilder(\n\t\t\t\t\t\t`${interaction.user} tried to kick you from **${interaction.guild.name}**!`,\n\t\t\t\t\t),\n\t\t\t\t],\n\t\t\t});\n\t\t\treturn;\n\t\t}\n\n\t\tawait interaction.reply({\n\t\t\tembeds: [\n\t\t\t\tsuccessEmbedBuilder(\n\t\t\t\t\t`${member.user} was kicked from the server for ${reason}`,\n\t\t\t\t),\n\t\t\t],\n\t\t\tephemeral: true,\n\t\t});\n\n\t\tconst guild = await prisma.guild.findUnique({\n\t\t\twhere: { guild: interaction.guildId },\n\t\t\tselect: { logs: true },\n\t\t});\n\n\t\tconst logs = interaction.guild.channels.cache.get(\n\t\t\tguild?.logs ?? \"\",\n\t\t) as TextChannel;\n\t\tawait logs?.send(\n\t\t\tlogBuilder({\n\t\t\t\tmember: interaction.member as GuildMember,\n\t\t\t\treason,\n\t\t\t}),\n\t\t);\n\t}\n}\n"],
  "mappings": ";AAKA,SAAS,qBAAqB,2BAA2B;AACzD;AAAA,EACC;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,OACM;AACP,OAAO,YAAY;AAEnB,qBAAqB,KAAK;AAAA,EACzB,OAAO,IAAI,oBAAoB,EAC7B,QAAQ,MAAM,EACd,eAAe,+BAA+B,EAC9C,4BAA4B,oBAAoB,WAAW,EAC3D;AAAA,IAAc,CAAC,WACf,OACE,QAAQ,MAAM,EACd,eAAe,4CAA4C,EAC3D,YAAY,IAAI;AAAA,EACnB,EACC;AAAA,IAAgB,CAAC,WACjB,OACE,QAAQ,QAAQ,EAChB;AAAA,MACA;AAAA,IACD,EACC,YAAY,IAAI;AAAA,EACnB;AAAA,EAED,MAAM,IAAI,aAA0C;AAlCrD;AAmCE,QAAI,CAAC,YAAY,QAAQ,GAAG;AAC3B,YAAM,YAAY,MAAM;AAAA,QACvB,QAAQ;AAAA,UACP,kBAAkB,2CAA2C;AAAA,QAC9D;AAAA,MACD,CAAC;AACD;AAAA,IACD;AAEA,UAAM,SAAS,YAAY,QAAQ,UAAU,MAAM;AACnD,UAAM,SAAS,YAAY,QAAQ,UAAU,UAAU,IAAI;AAE3D,QACC,GAAC,mCAAY,UAAZ,mBAAmB,YAAnB,mBAA4B,OAA5B,mBAAgC,gBAAhC,mBAA6C;AAAA,MAC7C,oBAAoB;AAAA,QAEpB;AACD,YAAM,YAAY,MAAM;AAAA,QACvB,QAAQ;AAAA,UACP;AAAA,YACC;AAAA,UACD;AAAA,QACD;AAAA,QACA,WAAW;AAAA,MACZ,CAAC;AACD;AAAA,IACD;AAEA,QAAI,CAAC,QAAQ;AACZ,YAAM,YAAY,MAAM;AAAA,QACvB,QAAQ,CAAC,kBAAkB,4BAA4B,CAAC;AAAA,QACxD,WAAW;AAAA,MACZ,CAAC;AACD;AAAA,IACD;AAEA,UAAM,MAAM,MAAM,OAChB,KAAK;AAAA,MACL,QAAQ;AAAA,QACP;AAAA,UACC,+BAA+B,YAAY,MAAM,IAAI;AAAA,QACtD;AAAA,MACD;AAAA,IACD,CAAC,EACA,MAAM,MAAM;AAAA,IAAC,CAAC;AAEhB,QAAI;AACH,YAAM,OAAO,KAAK,MAAM;AAAA,IACzB,QAAQ;AACP,YAAM,YAAY,MAAM;AAAA,QACvB,QAAQ,CAAC,kBAAkB,0BAA0B,CAAC;AAAA,QACtD,WAAW;AAAA,MACZ,CAAC;AACD,aAAM,2BAAK,KAAK;AAAA,QACf,QAAQ;AAAA,UACP;AAAA,YACC,GAAG,YAAY,IAAI,6BAA6B,YAAY,MAAM,IAAI;AAAA,UACvE;AAAA,QACD;AAAA,MACD;AACA;AAAA,IACD;AAEA,UAAM,YAAY,MAAM;AAAA,MACvB,QAAQ;AAAA,QACP;AAAA,UACC,GAAG,OAAO,IAAI,mCAAmC,MAAM;AAAA,QACxD;AAAA,MACD;AAAA,MACA,WAAW;AAAA,IACZ,CAAC;AAED,UAAM,QAAQ,MAAM,OAAO,MAAM,WAAW;AAAA,MAC3C,OAAO,EAAE,OAAO,YAAY,QAAQ;AAAA,MACpC,QAAQ,EAAE,MAAM,KAAK;AAAA,IACtB,CAAC;AAED,UAAM,OAAO,YAAY,MAAM,SAAS,MAAM;AAAA,OAC7C,+BAAO,SAAQ;AAAA,IAChB;AACA,WAAM,6BAAM;AAAA,MACX,WAAW;AAAA,QACV,QAAQ,YAAY;AAAA,QACpB;AAAA,MACD,CAAC;AAAA;AAAA,EAEH;AACD;",
  "names": []
}
